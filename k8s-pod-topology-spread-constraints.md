### **Pod Topology Spread Constraints –≤ Kubernetes**  

**Pod Topology Spread Constraints** ‚Äì —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –≤ Kubernetes, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–¥—ã –ø–æ –∫–ª–∞—Å—Ç–µ—Ä–∞–º, —á—Ç–æ–±—ã —É–ª—É—á—à–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É –Ω–∞–≥—Ä—É–∑–∫–∏.  

#### üîπ **–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?**  
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥–æ–≤ –Ω–∞ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ —É–∑–ª–∞—Ö.  
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (HA) –ø—Ä–∏ —Å–±–æ—è—Ö —É–∑–ª–æ–≤ –∏–ª–∏ –∑–æ–Ω.  
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏ (—É–∑–ª—ã, –∑–æ–Ω—ã, —Ä–µ–≥–∏–æ–Ω—ã –∏ —Ç. –¥.).  

---

## **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?**  

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ –ø–æ–¥–∞ —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—è `topologySpreadConstraints`. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:  

- **`topologyKey`** ‚Äì –∫–ª—é—á –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `topology.kubernetes.io/zone` –¥–ª—è –∑–æ–Ω).  
- **`whenUnsatisfiable`** ‚Äì —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –µ—Å–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ (`ScheduleAnyway` –∏–ª–∏ `DoNotSchedule`).  
- **`maxSkew`** ‚Äì –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–¥–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö.  
- **`labelSelector`** ‚Äì –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—ã, –∫ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª–æ.  

---

## **–ü—Ä–∏–º–µ—Ä –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞**  

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 6
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      topologySpreadConstraints:
        - maxSkew: 1
          topologyKey: topology.kubernetes.io/zone
          whenUnsatisfiable: DoNotSchedule
          labelSelector:
            matchLabels:
              app: my-app
      containers:
        - name: my-app
          image: my-app:latest
```

---

## **–†–∞–∑–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –ø—Ä–∏–º–µ—Ä–µ:**  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏ (`topology.kubernetes.io/zone`).  
- –†–∞–∑–Ω–∏—Ü–∞ (`maxSkew`) –º–µ–∂–¥—É –Ω–∞–∏–º–µ–Ω–µ–µ –∏ –Ω–∞–∏–±–æ–ª–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 1.  
- –ï—Å–ª–∏ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ–¥ –Ω–µ –±—É–¥–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω (`DoNotSchedule`).  

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è `topologyKey`:**  
- `kubernetes.io/hostname` ‚Äì —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏.  
- `topology.kubernetes.io/zone` ‚Äì –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏.  
- `topology.kubernetes.io/region` ‚Äì –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏.  

---

## **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**  
‚úÖ –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–¥—ã –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏ –∏–ª–∏ –∑–æ–Ω–∞–º–∏.  
‚úÖ –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ –æ–¥–Ω–æ–π –∑–æ–Ω—ã).  
‚úÖ –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –ø–æ–¥–æ–≤ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–¥–µ/–∑–æ–Ω–µ.  

üöÄ **–í—ã–≤–æ–¥:** `Pod Topology Spread Constraints` ‚Äì —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ –¥–ª—è –ª—É—á—à–µ–π –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.


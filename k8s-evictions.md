### üìå –ö–æ–≥–¥–∞ –≤ Kubernetes –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **eviction (–≤—ã—Å–µ–ª–µ–Ω–∏–µ) –ø–æ–¥–æ–≤?**  

**Eviction** (–≤—ã—Å–µ–ª–µ–Ω–∏–µ) ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º **Kubernetes —É–¥–∞–ª—è–µ—Ç –ø–æ–¥—ã** —Å —É–∑–ª–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–∏—á–∏–Ω–∞–º.  

---

## üî• –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã eviction –ø–æ–¥–æ–≤  

### 1Ô∏è‚É£ **Taint —Å `NoExecute` (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—Å–µ–ª–µ–Ω–∏–µ)**  
- –ï—Å–ª–∏ —É–∑–µ–ª –ø–æ–ª—É—á–∞–µ—Ç taint —Å **`NoExecute`**, –≤—Å–µ –ø–æ–¥—ã **–±–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ toleration** –±—É–¥—É—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–¥–∞–ª–µ–Ω—ã.  
- –ï—Å–ª–∏ —É –ø–æ–¥–∞ –µ—Å—Ç—å `tolerationSeconds`, –æ–Ω –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–∞ —É–∑–ª–µ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è, –∞ –∑–∞—Ç–µ–º –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω.  
- **–ü—Ä–∏–º–µ—Ä** –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `NoExecute` taint:
  ```bash
  kubectl taint nodes my-node key=value:NoExecute
  ```
  üîπ –í—Å–µ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥—ã –±—É–¥—É—Ç –≤—ã—Å–µ–ª–µ–Ω—ã.  

---

### 2Ô∏è‚É£ **Node Pressure Eviction (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤: CPU, RAM, Disk)**  
Kubernetes **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –ø–æ–¥—ã**, –µ—Å–ª–∏ –Ω–∞ —É–∑–ª–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è **–ø–∞–º—è—Ç—å (MemoryPressure), –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (DiskPressure) –∏–ª–∏ inodes (NodePressure)**.  

- **Kubelet** –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É–∑–ª–∞ –∏ –≤—ã—Å–µ–ª—è–µ—Ç –ø–æ–¥—ã, –Ω–∞—á–∏–Ω–∞—è —Å **–Ω–∞–∏–º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö**.  
- **–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ –≤—ã—Å–µ–ª–µ–Ω–∏—è:**
  ```bash
  kubectl get events --sort-by=.metadata.creationTimestamp
  ```
  üîπ –ú–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å–æ–±—ã—Ç–∏—è —Ç–∏–ø–∞ `Evicted`.  

---

### 3Ô∏è‚É£ **Preemption (–≤—ã—Å–µ–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤ –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ —Ä–µ—Å—É—Ä—Å–æ–≤)**  
–ï—Å–ª–∏ –Ω–∞ —É–∑–ª–µ **–Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ä–µ—Å—É—Ä—Å–æ–≤** –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–¥–∞ —Å **–≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º (`priorityClass`)**, Kubernetes **–º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –º–µ–Ω–µ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø–æ–¥—ã**, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ.  

- **–ü—Ä–∏–º–µ—Ä:**  
  - **–ü–æ–¥—ã —Å `priorityClass: high-priority`** –º–æ–≥—É—Ç –≤—ã—Ç–µ—Å–Ω–∏—Ç—å –ø–æ–¥—ã —Å `priorityClass: low-priority`.  

- **–ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ–¥–æ–≤?**
  ```bash
  kubectl get pods -o=jsonpath='{range .items[*]}{.metadata.name}{" "}{.spec.priorityClassName}{"\n"}{end}'
  ```

---

### 4Ô∏è‚É£ **Pod Disruption Budget (PDB) + Voluntary Eviction**  
Kubernetes **–º–æ–∂–µ—Ç –≤—ã—Å–µ–ª—è—Ç—å –ø–æ–¥—ã** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É–∑–ª–æ–≤, –Ω–æ —Å–æ–±–ª—é–¥–∞–µ—Ç **PodDisruptionBudget (PDB)**, –∫–æ—Ç–æ—Ä—ã–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–æ–≤**, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.  

- **–ü—Ä–∏–º–µ—Ä PDB:**  
  ```yaml
  apiVersion: policy/v1
  kind: PodDisruptionBudget
  metadata:
    name: my-app-pdb
  spec:
    minAvailable: 2  # –ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–º–∏
    selector:
      matchLabels:
        app: my-app
  ```
  üîπ Kubernetes –Ω–µ —É–¥–∞–ª–∏—Ç –±–æ–ª—å—à–µ –ø–æ–¥–æ–≤, —á–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–æ PDB.  

---

### 5Ô∏è‚É£ **`kubectl drain` (—Ä—É—á–Ω–æ–µ –≤—ã—Å–µ–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤)**  
- –ö–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ö–æ—á–µ—Ç —É–¥–∞–ª–∏—Ç—å —É–∑–µ–ª –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –µ–≥–æ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é, –æ–Ω –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
  ```bash
  kubectl drain <node-name> --ignore-daemonsets --delete-emptydir-data
  ```
  üîπ –í—Å–µ –ø–æ–¥—ã –±—É–¥—É—Ç –≤—ã—Å–µ–ª–µ–Ω—ã, –∫—Ä–æ–º–µ `DaemonSet`.  

---

### 6Ô∏è‚É£ **Eviction —á–µ—Ä–µ–∑ Kubernetes Descheduler**  
- `Descheduler` –º–æ–∂–µ—Ç **—É–¥–∞–ª—è—Ç—å –ø–æ–¥—ã**, –µ—Å–ª–∏ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç `nodeAffinity`, `taints`, –∏–ª–∏ —É–∑–µ–ª –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω.  
- **–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤ Descheduler:**
  ```yaml
  strategies:
    RemovePodsViolatingNodeAffinity:
      enabled: true
  ```
  üîπ –≠—Ç–æ —É–¥–∞–ª–∏—Ç –ø–æ–¥—ã, –µ—Å–ª–∏ `nodeAffinity` –∏–∑–º–µ–Ω–∏–ª—Å—è.  

---

## ‚úÖ –ò—Ç–æ–≥  
**–ü–æ–¥—ã –≤—ã—Å–µ–ª—è—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:**  
1Ô∏è‚É£ **Taint `NoExecute`** ‚Äî –ø–æ–¥ —É–¥–∞–ª—è–µ—Ç—Å—è, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –Ω–µ—Ç toleration.  
2Ô∏è‚É£ **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤ (MemoryPressure, DiskPressure)** ‚Äî kubelet –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Å–µ–ª—è–µ—Ç –ø–æ–¥—ã.  
3Ô∏è‚É£ **Preemption** ‚Äî –µ—Å–ª–∏ –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–¥ —Å **–±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º**.  
4Ô∏è‚É£ **Pod Disruption Budget (PDB) + Voluntary Eviction** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç, —Å–∫–æ–ª—å–∫–æ –ø–æ–¥–æ–≤ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.  
5Ô∏è‚É£ **`kubectl drain`** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é –≤—ã—Å–µ–ª—è–µ—Ç –ø–æ–¥—ã.  
6Ô∏è‚É£ **Descheduler** ‚Äî —É–¥–∞–ª—è–µ—Ç –ø–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —É—Å–ª–æ–≤–∏—è–º.  



